{"compress":true,"commitItems":[["e36ce415-04ba-4e78-83d3-dd93c9a0257f",1520403081877,"",[[1520403036386,["gengmei_pxf@gengmei123.local",[[1,0,"BroadcastReceiver与LocalBroadcastManager应用及区别\n===\n\n\nandroid中有两种广播机制，一种是BroadcastReceiver，另一种是LocalBroadcastManager。现在来简单介绍一下两者。\n\n一、应用场景\n\n   1、BroadcastReceiver用于应用之间的传递消息；\n\n   2、而LocalBroadcastManager用于应用内部传递消息，比broadcastReceiver更加高效。\n\n二、安全\n\n   1、BroadcastReceiver使用的Content API，所以本质上它是跨应用的，所以在使用它时必须要考虑到不要被别的应用滥用；\n\n   2、LocalBroadcastManager不需要考虑安全问题，因为它只在应用内部有效。"]],[0,0],[363,363]]],[1520403047439,["gengmei_pxf@gengmei123.local",[[1,128,"#"],[-1,136,"   "],[1,139,"   "],[-1,172,"   "],[1,175,"   "],[-1,241,"   "],[1,244,"   "],[-1,315,"   "],[1,318,"   # "]],[128,128],[131,131]]],[1520403050487,["gengmei_pxf@gengmei123.local",[[1,238,"## "]],[238,238],[241,241]]],[1520403053206,["gengmei_pxf@gengmei123.local",[[1,369,"\n\n"]],[369,369],[370,370]]],[1520403053902,["gengmei_pxf@gengmei123.local",[[1,371,"\n"]],[370,370],[371,371]]],[1520403142791,[null,[[1,129,"# "],[-1,236,"二、"],[1,241,"二、"],[-1,321," #"]],[129,129],[321,321]]],[1520403142791,[null,[[-1,129,"# "],[1,238,"二、"],[-1,241,"二、"],[1,323," #"]],[321,321],[129,129]]],[1520403135239,["gengmei_pxf@gengmei123.local",[[1,372,"```\npublic class BroadcastReceiverTest  extends AppCompatActivity  \n{  \n    static int flag=1;  \n    static final String NAME=\"name\";  \n    static final String ACTION=\"com.zfeng.broadcastreceiver\";  \n  \n    private Button startBtn;  \n  \n    private MyBroadcastReceiver myBroadcastReceiver;  \n  \n    @Override  \n    protected void onCreate(Bundle savedInstanceState) {  \n        super.onCreate(savedInstanceState);  \n        setContentView(R.layout.broadcast_layout);  \n  \n        myBroadcastReceiver=new MyBroadcastReceiver();  \n  \n        startBtn=(Button)findViewById(R.id.broadcast_start);  \n  \n        addListener();  \n    }  \n  \n    @Override  \n    protected void onResume() {  \n        super.onResume();  \n        registerReceiver(myBroadcastReceiver,new IntentFilter(ACTION));  \n    }  \n  \n    @Override  \n    protected void onPause() {  \n        super.onPause();  \n        unregisterReceiver(myBroadcastReceiver);  \n    }  \n  \n    private void addListener()  \n    {  \n        startBtn.setOnClickListener(new View.OnClickListener() {  \n            @Override  \n            public void onClick(View v) {  \n                Intent intent = new Intent();  \n                intent.setAction(ACTION);  \n                intent.putExtra(NAME,\"Andy\");  \n                sendBroadcast(intent);  \n            }  \n        });  \n    }  \n  \n    public static class MyBroadcastReceiver extends BroadcastReceiver  \n    {  \n        @Override  \n        public void onReceive(Context context, Intent intent) {  \n            String name=intent.getStringExtra(NAME);  \n            Toast.makeText(context,name+\":\"+flag,Toast.LENGTH_SHORT).show();  \n            ++flag;  \n        }  \n    }  \n  \n    @Override  \n    protected void onDestroy() {  \n        super.onDestroy();  \n    }  \n```\n\n"]],[371,371],[2142,2142]]],[1520403142673,["gengmei_pxf@gengmei123.local",[[-1,439,"\n"]],[440,440],[439,439]]],[1520403202795,[null,[[1,129,"# "],[-1,236,"二、"],[1,241,"二、"],[-1,321," #"]],[129,129],[321,321]]],[1520403202795,[null,[[-1,129,"# "],[1,238,"二、"],[-1,241,"二、"],[1,323," #"]],[321,321],[129,129]]],[1520403147392,["gengmei_pxf@gengmei123.local",[[-1,419," "]],[420,420],[419,419]]],[1520403149008,["gengmei_pxf@gengmei123.local",[[1,419," "]],[419,419],[420,420]]],[1520403159774,["gengmei_pxf@gengmei123.local",[[-1,530," "]],[531,531],[530,530]]],[1520403162050,["gengmei_pxf@gengmei123.local",[[1,530," "]],[530,530],[531,531]]],[1520403164927,["gengmei_pxf@gengmei123.local",[[1,538,"\n"]],[538,538],[539,539]]],[1520403167712,["gengmei_pxf@gengmei123.local",[[1,539,"\t"]],[539,539],[540,540]]],[1520403193662,["gengmei_pxf@gengmei123.local",[[-1,1927,"    "]],[1931,1931],[1927,1927]]],[1520403194199,["gengmei_pxf@gengmei123.local",[[-1,1926,"\n"]],[1927,1927],[1926,1926]]],[1520403262796,[null,[[1,129,"# "],[-1,236,"二、"],[1,241,"二、"],[-1,321," #"]],[129,129],[321,321]]],[1520403262796,[null,[[-1,129,"# "],[1,238,"二、"],[-1,241,"二、"],[1,323," #"]],[321,321],[129,129]]],[1520403250963,["gengmei_pxf@gengmei123.local",[[1,2139,"\n"]],[2137,2137],[2138,2138]]],[1520403254631,["gengmei_pxf@gengmei123.local",[[1,2138,"·"]],[2138,2138],[2139,2139]]],[1520403255621,["gengmei_pxf@gengmei123.local",[[-1,2138,"·"]],[2139,2139],[2138,2138]]],[1520403256919,["gengmei_pxf@gengmei123.local",[[1,2138,"```"]],[2138,2138],[2141,2141]]],[1520403257485,["gengmei_pxf@gengmei123.local",[[1,2143,"\n"]],[2141,2141],[2142,2142]]],[1520403257798,["gengmei_pxf@gengmei123.local",[[1,2144,"\n"]],[2142,2142],[2143,2143]]],[1520403258855,["gengmei_pxf@gengmei123.local",[[1,2143,"```"]],[2143,2143],[2146,2146]]],[1520403261209,["gengmei_pxf@gengmei123.local",[[1,2142,"1.  private LocalBroadcastManager mLocalBroadcastManager;  \n2.  private BroadcastReceiver mBroadcastReceiver;"]],[2142,2142],[2251,2251]]],[1520403322793,[null,[[1,129,"# "],[-1,236,"二、"],[1,241,"二、"],[-1,321," #"]],[129,129],[321,321]]],[1520403322793,[null,[[-1,129,"# "],[1,238,"二、"],[-1,241,"二、"],[1,323," #"]],[321,321],[129,129]]],[1520403263242,["gengmei_pxf@gengmei123.local",[[-1,2142,"1.  private LocalBroadcastManager mLocalBroadcastManager;  \n2.  private BroadcastReceiver mBroadcastReceiver;"]],[2251,2251],[2142,2142]]],[1520403682810,[null,[[1,129,"# "],[-1,236,"二、"],[1,241,"二、"],[-1,321," #"]],[129,129],[321,321]]],[1520403682810,[null,[[-1,129,"# "],[1,238,"二、"],[-1,241,"二、"],[1,323," #"]],[321,321],[129,129]]],[1520403671959,["gengmei_pxf@gengmei123.local",[[1,2142,"private LocalBroadcastManager mLocalBroadcastManager;  \nprivate BroadcastReceiver mBroadcastReceiver;  \n//实例化\nmLocalBroadcastManager=LocalBroadcastManager.getInstance(this); \n//过滤器\nIntentFilter intentFilter=new IntentFilter();  \nintentFilter.addAction(ACTION_STARTED);  \n//广播接收器\nmBroadcastReceiver=new BroadcastReceiver() {  \n\t@Override  \n        public void onReceive(Context context, Intent intent) {  \n            if(intent.getAction().equals(ACTION_STARTED))  {  \n                    tv.setText(\"STARTED\");  \n                } \n            }  \n        };     \n//注册广播\nmLocalBroadcastManager.registerReceiver(mBroadcastReceiver,intentFilter); \n//发送广播\nlocalBroadcastManager.sendBroadcast(new Intent(ACTION_STARTED)); \n//销毁\n@Override  \nprotected void onDestroy() {  \n    super.onDestroy();  \n    mLocalBroadcastManager.unregisterReceiver(mBroadcastReceiver);  \n}   "]],[2142,2142],[3007,3007]]],[1520403728235,[null,[[1,129,"# "],[-1,236,"二、"],[1,241,"二、"],[-1,321," #"]],[129,129],[321,321]]],[1520403728235,[null,[[-1,129,"# "],[1,238,"二、"],[-1,241,"二、"],[1,323," #"]],[321,321],[129,129]]],[1520403720582,["gengmei_pxf@gengmei123.local",[[-1,2795,"l"],[1,2796,"mL"]],[2795,2816],[2817,2817]]],[1520403723163,["gengmei_pxf@gengmei123.local",[[-1,2835," "]],[2836,2836],[2835,2835]]],[1520403724829,["gengmei_pxf@gengmei123.local",[[1,2835," "]],[2835,2835],[2836,2836]]],[1520403788240,[null,[[1,129,"# "],[-1,236,"二、"],[1,241,"二、"],[-1,321," #"]],[129,129],[321,321]]],[1520403788240,[null,[[-1,129,"# "],[1,238,"二、"],[-1,241,"二、"],[1,323," #"]],[321,321],[129,129]]],[1520403740499,["gengmei_pxf@gengmei123.local",[[-1,376,"public class BroadcastReceiverTest  extends AppCompatActivity  {  \n    static int flag=1;  \n    static final String NAME=\"name\";  \n    static final String ACTION=\n\t\"com.zfeng.broadcastreceiver\";  \n  \n    private Button startBtn;  \n  "]],[376,609],[376,376]]],[1520403741049,["gengmei_pxf@gengmei123.local",[[-1,376,"\n"]],[376,376],[375,375]]],[1520403751922,["gengmei_pxf@gengmei123.local",[[-1,434,"    @Override  \n    protected void onCreate(Bundle savedInstanceState) {  \n        super.onCreate(savedInstanceState);  \n        setContentView(R.layout.broadcast_layout);  \n  "]],[438,610],[434,434]]],[1520403752306,["gengmei_pxf@gengmei123.local",[[-1,434,"\n"]],[434,434],[433,433]]],[1520403756570,["gengmei_pxf@gengmei123.local",[[-1,433,"\n        "]],[433,442],[433,433]]],[1520403760698,["gengmei_pxf@gengmei123.local",[[1,433,"  "]],[433,433],[435,435]]],[1520403765258,["gengmei_pxf@gengmei123.local",[[-1,491,"    startBtn=(Button)findViewById(R.id.broadcast_start);  \n  \n        addListener();  \n    }  \n  \n    "]],[486,588],[486,486]]],[1520403772162,["gengmei_pxf@gengmei123.local",[[-1,487,"    @Override  \n    protected void onResume() {  \n        super.onResume(); "]],[491,563],[487,487]]],[1520403772562,["gengmei_pxf@gengmei123.local",[[-1,486,"\n"]],[487,487],[486,486]]],[1520403776898,["gengmei_pxf@gengmei123.local",[[-1,559,"  \n    }  \n  "]],[559,572],[559,559]]],[1520403781962,["gengmei_pxf@gengmei123.local",[[-1,563," @Override  \n    protected void onPause() {  \n        super.onPause(); "]],[564,634],[563,563]]],[1520403848236,[null,[[1,129,"# "],[-1,236,"二、"],[1,241,"二、"],[-1,321," #"]],[129,129],[321,321]]],[1520403848236,[null,[[-1,129,"# "],[1,238,"二、"],[-1,241,"二、"],[1,323," #"]],[321,321],[129,129]]],[1520403789506,["gengmei_pxf@gengmei123.local",[[-1,614," \n    }  \n  \n    private void addListener()  \n    {  \n        startBtn.setOnClickListener(new View.OnClickListener() {  \n            @Override  \n            public void onClick(View v) {  "]],[614,802],[614,614]]],[1520403796634,["gengmei_pxf@gengmei123.local",[[-1,796,"            }  \n        });  \n    }  "]],[807,833],[796,796]]],[1520403797095,["gengmei_pxf@gengmei123.local",[[-1,796,"\n"]],[796,796],[795,795]]],[1520403809833,["gengmei_pxf@gengmei123.local",[[-1,565,"        unregisterReceiver(myBroadcastReceiver); "]],[573,614],[565,565]]],[1520403810017,["gengmei_pxf@gengmei123.local",[[-1,565,"\n"]],[565,565],[564,564]]],[1520403811634,["gengmei_pxf@gengmei123.local",[[-1,560,"    "]],[564,564],[560,560]]],[1520403812121,["gengmei_pxf@gengmei123.local",[[-1,560,"\n"]],[560,560],[559,559]]],[1520403813897,["gengmei_pxf@gengmei123.local",[[1,560,"\n"]],[559,559],[560,560]]],[1520403817512,["gengmei_pxf@gengmei123.local",[[1,1162,"\n"]],[1162,1162],[1163,1163]]],[1520403817921,["gengmei_pxf@gengmei123.local",[[1,1163,"unregisterReceiver(myBroadcastReceiver); "]],[1163,1163],[1204,1204]]],[1520403820936,["gengmei_pxf@gengmei123.local",[[1,1163,"\t\t"]],[1163,1163],[1165,1165]]],[1520403830745,["gengmei_pxf@gengmei123.local",[[-1,491,"     "]],[496,496],[491,491]]],[1520403840913,["gengmei_pxf@gengmei123.local",[[-1,376,"    "]],[376,380],[376,376]]],[1520403844009,["gengmei_pxf@gengmei123.local",[[-1,427,"    "]],[427,431],[427,427]]],[1520403908238,[null,[[1,129,"# "],[-1,236,"二、"],[1,241,"二、"],[-1,321," #"]],[129,129],[321,321]]],[1520403908238,[null,[[-1,129,"# "],[1,238,"二、"],[-1,241,"二、"],[1,323," #"]],[321,321],[129,129]]],[1520403848306,["gengmei_pxf@gengmei123.local",[[-1,480,"   "]],[480,483],[480,480]]],[1520403851168,["gengmei_pxf@gengmei123.local",[[-1,520," "]],[521,521],[520,520]]],[1520403854865,["gengmei_pxf@gengmei123.local",[[1,520," "]],[520,520],[521,521]]],[1520403863478,["gengmei_pxf@gengmei123.local",[[-1,544,"\n"]],[543,544],[543,543]]],[1520403868975,["gengmei_pxf@gengmei123.local",[[1,544,"\n"]],[543,543],[544,544]]],[1520403874064,["gengmei_pxf@gengmei123.local",[[-1,545,"                "]],[545,561],[545,545]]],[1520403878032,["gengmei_pxf@gengmei123.local",[[-1,577,"                "]],[577,593],[577,577]]],[1520403883016,["gengmei_pxf@gengmei123.local",[[-1,605,"                "]],[606,621],[605,605]]],[1520403883183,["gengmei_pxf@gengmei123.local",[[-1,604,"\n"]],[605,605],[604,604]]],[1520403883991,["gengmei_pxf@gengmei123.local",[[1,604,"\n"]],[604,604],[605,605]]],[1520403887160,["gengmei_pxf@gengmei123.local",[[-1,634,"  \n                "]],[634,653],[634,634]]],[1520403888215,["gengmei_pxf@gengmei123.local",[[1,634,"\n"]],[634,634],[635,635]]],[1520403891696,["gengmei_pxf@gengmei123.local",[[-1,663,"    "]],[663,667],[663,663]]],[1520403968240,[null,[[1,129,"# "],[-1,236,"二、"],[1,241,"二、"],[-1,321," #"]],[129,129],[321,321]]],[1520403968240,[null,[[-1,129,"# "],[1,238,"二、"],[-1,241,"二、"],[1,323," #"]],[321,321],[129,129]]],[1520403913662,["gengmei_pxf@gengmei123.local",[[1,425,"\n"]],[425,425],[426,426]]],[1520403917985,["gengmei_pxf@gengmei123.local",[[1,426,"//实例化广播"]],[426,426],[433,433]]],[1520403930342,["gengmei_pxf@gengmei123.local",[[-1,668,"  "]],[670,670],[668,668]]],[1520403930905,["gengmei_pxf@gengmei123.local",[[1,668,"//广播接收器"]],[668,668],[675,675]]],[1520403941640,["gengmei_pxf@gengmei123.local",[[-1,486," "]],[485,485],[484,484]]],[1520403942241,["gengmei_pxf@gengmei123.local",[[1,484,"//注册广播"]],[484,484],[490,490]]],[1520403958985,["gengmei_pxf@gengmei123.local",[[1,557,"//发送广播"]],[557,557],[563,563]]],[1520404028247,[null,[[1,129,"# "],[-1,236,"二、"],[1,241,"二、"],[-1,321," #"]],[129,129],[321,321]]],[1520404028247,[null,[[-1,129,"# "],[1,238,"二、"],[-1,241,"二、"],[1,323," #"]],[321,321],[129,129]]],[1520403968558,["gengmei_pxf@gengmei123.local",[[1,1020,"//销毁"]],[1020,1020],[1024,1024]]],[1520403994439,["gengmei_pxf@gengmei123.local",[[1,371,"### BroadcastReceiver的使用"]],[371,371],[395,395]]],[1520403999525,["gengmei_pxf@gengmei123.local",[[-1,373,"#"]],[374,374],[373,373]]],[1520404004732,["gengmei_pxf@gengmei123.local",[[1,1186,"\n"]],[1185,1185],[1186,1186]]],[1520404012639,["gengmei_pxf@gengmei123.local",[[1,1186,"## LocalBroadcastManager的使用"]],[1186,1186],[1213,1213]]]]]]}