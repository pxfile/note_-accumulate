{"compress":true,"commitItems":[["16eeec24-de27-4344-82b2-5f64b9c977d2",1520318167138,"",[[1520318151680,["gengmei_pxf@gengmei123.local",[[1,0,"SharedPreferences 多进程解决方案\n===\n\n\n#### 1\\. SharedPreferences不支持进程同步\n\n一个进程的情况，经常采用SharePreference来做，但是SharePreference不支持多进程，它基于单个文件的，默认是没有考虑同步互斥，而且，APP对SP对象做了缓存，不好互斥同步.\n\nMODE_MULTI_PROCESS的作用是什么?\n\n在getSharedPreferences的时候, 会强制让SP进行一次读取操作，从而保证数据是最新的. 但是若频繁多进程进行读写 . 若某个进程持有了一个外部sp对象, 那么不能保证数据是最新的. 因为刚刚被别的进程更新了.\n\n#### 2.考虑用ContentProvider来实现SharedPreferences的进程同步.\n\nContentProvider基于Binder，不存在进程间互斥问题，对于同步，也做了很好的封装，不需要开发者额外实现。 \n\n另外ContentProvider的每次操作都会重新getSP. 保证了sp的一致性."]],[0,0],[468,468]]],[1520318155096,["gengmei_pxf@gengmei123.local",[[-1,39,"."],[-1,422," "],[1,423," "]],[40,40],[39,39]]],[1520318155407,["gengmei_pxf@gengmei123.local",[[-1,38,"\\"]],[39,39],[38,38]]],[1520318157175,["gengmei_pxf@gengmei123.local",[[1,38,"。"]],[38,38],[39,39]]],[1520318158134,["gengmei_pxf@gengmei123.local",[[-1,38,"。"]],[39,39],[38,38]]],[1520318158641,["gengmei_pxf@gengmei123.local",[[1,38,"."]],[38,38],[39,39]]],[1520318165350,["gengmei_pxf@gengmei123.local",[[-1,34,"##"]],[36,36],[34,34]]],[1520318176134,["gengmei_pxf@gengmei123.local",[[1,32,"\n"]],[30,30],[31,31]]],[1520318177888,["gengmei_pxf@gengmei123.local",[[1,31,"## # SharedPreferences支持进程同步吗?怎么让它支持"]],[31,31],[67,67]]],[1520318184013,["gengmei_pxf@gengmei123.local",[[-1,33," #"]],[35,35],[33,33]]],[1520318186279,["gengmei_pxf@gengmei123.local",[[1,69,"#"]],[69,69],[70,70]]],[1520318188253,["gengmei_pxf@gengmei123.local",[[-1,345,"#"]],[346,346],[345,345]]],[1520318292781,["gengmei_pxf@gengmei123.local",[[1,500,"\n\n"]],[500,500],[501,501]]],[1520318293037,["gengmei_pxf@gengmei123.local",[[1,502,"\n"]],[501,501],[502,502]]],[1520318316416,["gengmei_pxf@gengmei123.local",[[-1,502,"\n"],[1,503,"### 3."]],[502,502],[508,508]]],[1520318320673,["gengmei_pxf@gengmei123.local",[[-1,504,"# 3."]],[508,508],[504,504]]],[1520318339045,["gengmei_pxf@gengmei123.local",[[1,504,"# SharedPreferences 多进程解决方案"]],[504,504],[531,531]]],[1520318341441,["gengmei_pxf@gengmei123.local",[[-1,504,"#"]],[505,505],[504,504]]],[1520318344568,["gengmei_pxf@gengmei123.local",[[1,530,"\n\n"]],[530,530],[531,531]]],[1520318344728,["gengmei_pxf@gengmei123.local",[[1,532,"\n"]],[531,531],[532,532]]],[1520318362609,["gengmei_pxf@gengmei123.local",[[-1,532,"\n"],[1,533,"* []()"]],[532,532],[538,538]]],[1520318363947,["gengmei_pxf@gengmei123.local",[[1,535,"# SharedPreferences 多进程解决方案"]],[535,535],[562,562]]],[1520318366664,["gengmei_pxf@gengmei123.local",[[-1,535,"# "]],[537,537],[535,535]]],[1520318375089,["gengmei_pxf@gengmei123.local",[[1,562,"https://juejin.im/entry/590833711b69e60058eb34b9\n\n"]],[562,562],[612,612]]],[1520318375359,["gengmei_pxf@gengmei123.local",[[1,613,"\n"]],[612,612],[613,613]]],[1520318379312,["gengmei_pxf@gengmei123.local",[[-1,613,"\n"],[1,614,"* []()"]],[613,613],[619,619]]],[1520318457746,[null,[[1,610,")"],[-1,612,")"]],[610,610],[612,612]]],[1520318457746,[null,[[-1,610,")"],[1,613,")"]],[612,612],[610,610]]],[1520318440316,["gengmei_pxf@gengmei123.local",[[1,616,"# Android SharedPreference 支持多进程"]],[616,616],[648,648]]],[1520318442849,["gengmei_pxf@gengmei123.local",[[-1,616,"# "]],[618,618],[616,616]]],[1520318450364,["gengmei_pxf@gengmei123.local",[[1,648,"https://www.jianshu.com/p/875d13458538"]],[648,648],[686,686]]]]]]}